apk.static add openrc
apk.static add haveged
apk.static add build-base
apk.static add chrpath
apk.static add gsl
apk.static add gsl-dev
apk.static add libtool
apk.static add rng-tools
apk.static add rpm-dev
rc-update add havaged
mkdir -pm u+x /tmp/test/make
cd /tmp/test/make
wget http://www.fourmilab.ch/random/random.zip
unzip random.zip
make
mv ./ent /tmp/test/
rm -f random.zip
mkdir -pm u+x ~/rpmbuild/{BUILD,RPMS,SOURCES,SPECS,SRPMS}
echo '%_topdir %(echo $HOME)/rpmbuild' >> ~/.rpmmacros
mkdir -pm u+x /dieharder_src
wget -c --quiet http://webhome.phy.duke.edu/~rgb/General/dieharder/dieharder.tgz -O - | tar -xz -C /dieharder_src/
cd /dieharder_src/*
sed -i '16s/.*/chrpath gsl-dev/' ./dieharder.spec
sed -i '129s/.*/# ' ./dieharder.spec
sed -i '16s/.*/chrpath gsl-dev/' ./dieharder.spec.in
sed -i '129s/.*/# /' ./dieharder.spec.in
sed -i '66i #define M_PI    3.14159265358979323846' ./include/dieharder/libdieharder.h
sed -i '262i typedef unsigned int uint;' ./include/dieharder/libdieharder.h
sed -i '263i \ ' ./include/dieharder/libdieharder.h
make install
