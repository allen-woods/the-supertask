dist: trusty
jobs:
  include:
    - stage: build docker image
      script:
        -
        - echo "$DOCKER_HUB_PASSWORD" | docker login -u "$DOCKER_HUB_USERNAME" --password-stdin
        - docker-compose up --build -t "$DOCKER_HUB_REPO" .
        - docker images
        - docker tag $DOCKER_HUB_REPO $DOCKER_HUB_USERNAME/$DOCKER_HUB_REPO
        - docker push $DOCKER_HUB_USERNAME/$DOCKER_HUB_REPO
    - stage: test
      script: echo "This is the test stage."
branches:
  only:
    - master
env:
  matrix:
    - secure: T1FFwxvL2QogRtZjpnqTmfaOYhLw05r2NNQ5W2rVTFoA5cIfnifZzDaFauThG34UZYargkozQM7KnxtYhMGCo4YH9eiP9oSfJJHvgVNjyOurBDHCfIixVsbYWvo16Omdc0ToswGcji2R0uixKzK0M2vbm1jWryeIU9BBBy6JSax7hwm+iRDTTkNla37GdgDQj2Pf8SxWeU0ta/U7XWWqscO6wfZN1WTj6PmZLCJgSgIJdesaQO851ATulCQicq8mbOQ3QrtT7yC+oI6eCF07u9ABUVxbB+i811yyhNmkmEe761NlqAEGcrGy1XImzq9x4cFd3NT/cG8ySqQK25jMCFnAjkB4JSiq6+U+mDRVrJkvAa9bxu4HGaPz6QXoOyisEc8RTvj835cCUUkcTo6B5ioV1SVSy9Nw+JywJSg8cCqjJ/TNKrYDz3JmiF+l79NXkqYXO1ZtDmQtYjgAFtcyyvwoLq1ZuRJ6xNQTA0Vr32WvK0y3r+cQjiZfncqFk51Wq56dFjgGn0Q+85UdWhvi5Y1Ee7tNS94h6f92ZdaYi9avBH9jHrWICD5qkWVnYfmwDeiE0mfKbHfGbKJlXDAcsaTyT6MvinrUq3UNnBvWOgSYHNinMTN7yRhxx1eHHoYKJgm5Df0CPv3xB6zNssvEMkkHIznTDlpd0ynzDJ2mxUU=
    - secure: EJfCUXIKSC/mmf4aXrxW7GNO0PRiPdCrKTGzzUniypLSmjI508gzfBHQbXlXT7m+dTzjXThIre205EQOS+3y02bbteYsIYIF5R8kF8OEsRGPMZOcougO9pnBYTAiGtstfuqN/Rl+AWQ4URxGddaQH8pduCHl2ikCPMknpJF66V+vExBEVQH3CH20nebqQSaobhFG96LRldD5MM2wJhBC1KIGEYG1/ZGauyeGBR8ZleaRBoPtC2B/wdyLtyn5xFq+rHkDZEbQCISRS1eJiYe+h4YE7q6W2ofWzN6Ecb1Mka92qgv9sGPDaEy69gkeL2g5IsROPdDFFlpa77GZPKW3aCOnzLv60K5BoD0X7ZmMaBfWjd2mJLhYD8JNf4ejC4+t9FLOT6iE32KZfmF2a510dJuGEdSn9SagpnUtUK6ZjUChjE/4fEwwjdNjW3x26SLM1rvn/GaswWENP8KTKQ1mhfs9Rz7oi9YYURw4SyWjLxLX4wFipqDYlCIRg8b1L2foUMfb177+aTL/afQiiMXS82GwV78E321F4fGveWzfRdTl/vE+8fMxdvvJI3felaO+eIF/KaGkxyBKKn/mRlbbQmDi5VEToEO4b0osHUmbvMUXCpueO4rUecELnwrAQeQ4lCH6QhVL0NFETVSNdT/VKfYUgI5OXHGcZHllFo3Fsbg=
    - secure: d3I+OKybJ5BLVvVdweemYMzW/YqUuJdorYonlL4bsmb97Sd81GwvGJDIfHBpB9aMKOPkMRsndneTsp0hqM9W7X9b5doje9IljKwk3gXWv1L8Mnz47TntDUcV4tHLG4krK/P4zQ9yybyIvzrWFox+rWsJOS2pcz+MYYCwvMsDu4Zmp1hplT1jOmm4Ewp+ZQwbALUrJ4gPXKWhrUrATgVvtHH/U4Ok4bf8fSQgCBJ2/4VYJTUfJLZeFqajbwEBBPNvQaebP8AcgEN7YGi71nTeaX6G7KucFUf6P7lgXNuZs8X3/WP/Ye6K3UrjO8ZPR7CiGOnIhXN4tf1RwkkGDNL3aIFJE8jN1s+xPtToKFhP18kbG58JVV5FRnYFhMgYWKyMjN3UJISL65q1OigUe/BnZUB50eJesYrFk7Lct5xe4vI5Rg9Sld0kbMy5kBincyig4OWkJp39Ab0gt5FsabgGn1zfMpfjN6YRbJa6L0AMOXOC8WpHMJNNv6c2GBucl43bjRfoHKKk+8WFO2DkPp/82lyTu8zT3O3sh94RvYLMpLieTG2pA1qsBJuGCnL+wXEBzL45pOAr9IGYJ10Auw/fygUVV+Zzdioy24UuzXxlVZZSUOIDxF4nAb+98E/SkjLqlKKZ21iNyXT5VDeiCKzHQ7AHRR1A6zfRnnoA2wTDoq8=
    - secure: LUCxmHUktY+kZnxGKc5sz/qNOChfRAEQDGF1dd1Vp0kfnL0h/OPVYr47/UTFwI7DCB6B0TJnWRSyB+fpcAjwJaeXelHjL/0+Be1o2ExskQ2es1CP4uFG6EkFyS28SPMpJcgi4+AptCklDOBRnT1DhHbnRsFPuHpvlf68Obra1Q1e9ttVG9JLD0EiAOsPLY9YmA9KUma8D5HQE6buoPJmanLfH4g1R0PoKUtyIoM1AzKRFY7OkM5fYzaKOs8GgEbTUuPUyjlkI2tP1pOoNa/5SGlZdo6sP14tXpYT0aQjlQkzHOCZDKi00xPksL4KCFzpDeJ9tOz5W5WazZYCHJJxFAvrWqXjidYPgNURNDLhiqPc9B/LbxBdZER3vgIDwC5fP0Rcsyqe09ajugpGyRlPL4aSQ77mQx+Kmkwm+w8PA0G1hhth7GEcAbDl/Npsbu7trRsPJR5S5JCKGswzpSZAAQh2spqrepLUqKqgO1HpQTaXic2/lBtw79my8svoOdykhqwX0Ic7J2NYb+wPr+QPka9KQpuAtXVf2uzoxEIOg0JmKya71am2fiyd887hHLwNejnsroPy25mVCgEyQvR6ZX5Jtt5LIxBo9L6aTKsl+XCP/9TzwNCK5jUZjORKUvHnFN2rinvJJmfoJn1OHfd3xmScs/tLYWc8T0HOknpS3lg=
    - secure: PlNHaZbj/xZrOFwiMuhXwWrCYLHFjoGHcvsKKMnQMdxSTaSoTyF7feYxTU1XU8vKEcp8WDXeQ2fAznmts697rcrhqqID/Dk6lCbtdRAgRg6TzXGuK5pEZWehTGvs9lGpPhcluzchKFEz9Y7wpPwVimQvcGSSB72lWnXRsxze0CsZUYt0FO+CeP17HfNlJz61cSPrxlnwB9hDVCXqSOaPSEx8K3XMOpLhvT2FxZ6z4nyJcyHQ0Ev0nj5grU+kIIhQLOf4mV1pq9gmbAtB5484W/zxo+965aalrttx5iPUKB8VqE8duZhE1Dfz4UEOTLJVBKgQVTIXBSflBrabFzLhw1j8fwNGDtRmVN84rlNNPHwkxiPgEfjciVdx8kSvPsXlG25cfvrlF39JfSl5wnSIsx/9Gc8sPDu8ezWyBA7XTnX9NHA03uC1yKrIoXcgF/YMQ9BD/D3/9fXOsl7QY7jsmc6J0Ao8ARjtMRjyFkkST9VCLuBIbC4P1wUOKj4nrFV9jNG/sOxDK47Lalr2zHhd4VhAW4usaLfctYniEMoV87o71C/4swZQHqz4q9Ixl6Wb3qxDpJJmf0DuV44SGcysKqKAGZI7UVktgsemV2fvCSS9h0oV4V3xUcc1CRSGgIsujudWmrNX9aiPCsp3J+k2IEia0sE+p5b7mUe1wxwSRng=
    - secure: lMlI/7/8FZQNq/l4caBIWN0VitMTTQPniSct1pRaexWLEvb/h05kHJaa0oEVj7QJ30hbn/pW/1VSLxfwPSMlmJQjDgAX6Evfu6LNFbrPSsCzmJRLx7XjwZQGgVNRGIBGxqyARolTqqpOIB2y1W2lq3PVM5fkC4j/81RzRffrUKYlrmca+AxV/IOo/YzuY2EuHxrsJ+cIrai/U7W+jSM954qBcJncEzh/xHVQL9kJIP46BUm6ohozbdg9R8+E7gA8udvX1CBwbuiS1aeCCqMMoil5xJeripCZ5hFBMHfh/ubKKLozEyhulBIlfcT3K8asNI5qxnyW/fxLK8s/xcag0wW4zR4aiF3UDPdXU9T6/PqQYafJvnIQAi4E19vwddimHeyMnjQUkBiH+ZI3JoAlPoYruCev021f+LFAv3I+oD6Xd2PnKJzoFQxcTgpAUYIjdZwIFOS84CgXV1xVPSMbZrIQA7xHVi63W52QVyIeWWZVW0w2BEMNa425xWPF1uJrKF3QPbEeyhSxv4cqXUt4RrmtYczpGVnwn8qX5PIKM8jIo972pYTJzT448e6wl0hmIlWuxxmKeFvRboAmra0e7Plza3YJEDe7cP3kDIsVhHiw0J8a7FQwNKiigo3fGFMvbeAhfrY/J7/HY2QTalZ/pA7eovBltipAJRlqll+JbeM=
    - secure: bhg8qCZK9Ks+x4FqyFAWxIoWtE0+Xn9/lzU2dBDbx0DHRSFkYdcSYwsOQH1bdjdc4kWs6dV/gn1W4DSMlVq5WfR6v49f297taVWCeXi0HQ87wpmt+izLTQu+cPpIb9lQgPZJovgChtq3aMMsRTXJusW30+E/srbqHL5UtwyTN47Gx9P+VIp/pwo/6eVAY4mBsPi4BdsoXqYS+zTmtUXUq0mZUen6X31h5IeG218hAEb6oVDDrm48V7hVezemYd23wTt+do6KuYxBJLPcHrfWQuztfclBpb1UzHFhtJEoqy0/1aY8D4qnlCn6GJvY6YJ2oU8c52XRqFG2RGX6H2VvuoVldtNcphQnRj+m0H0MjACTofB44snyWUSFzc6Ou3TtsjwJOkwC4tKvJZbwrVf6UYTrVTHds98ZbUTMyzVekdm4duGnA7vYA9UaJ0lcwB6k/WkgJpKZbNfgNo0iqh0kEhRsyzuZHRJjDbZ3xoqt4vXGcnTx1yq1zG3ysWkL6D1HQo2KYlGB3GPzDwP0sFUXI0ixpHrLje73pufdqrD3INTLMq70/cRJerfsUE8268DNdZTYNfgg+SmFcwWEWxPd+70AqNtZYABEuxwQ/n/tCo6WElm7f11LN1gQvGmCUVwraXXvouaq/IINkKCDPMCsBop5+SLGZTu24J+A3nDnoSY=
    - secure: Of97LSn0MCe71kHhfryXxeAxcjKxkIY83OIhqQYQMrI+WMVtZ+JuLQpgdC3iaNlYN5+r7osKXZ6Z4MRbYmor0UVZ9b/nZqv3YN6tWuEfSqgi4q8cgrgPj7pH/HxnsNFme1XxFjGLBDuaNTViYb0GJFvI9GdoPUFCVtoGmYG8g47UlVkQT2uzErW5UGR33vqwqCpLxsyh4K9KU1NJcfqbTXVY7ukOA7fATU0OacpYRbbRmiR8wgjrb2jdfBAzBBD5qHSg/du3W3HV5jxV637ZH4+NFK91Km+GSdv3IrAGtnRd8b0yBQAoQqnj0LiGzL/6bft//iI1nrxq9NX1YQpBqGCdu2M7wnZCcA+yDAGQstFqv8WiE5YsWBhLNyk/TJyipwADMC7M4N+3zKyXcIWVMpjpD/F5xnI7eiDCaSH9a9S4NJR+enxmBHUgmMFoty4f5Uvm1tlB37/vCRCGUgAf6KHXFfmR34+ZN8ZWKVnlxBPnLZcxJ+LKHT9saky2AOvFYZevM8lq3Yg+mNZwNkZIBLSpI2gtxjYfHwpy+gC7Gr+XxqKSSgF9Kflb3NehJ6S5GrlGQQTc1wPfijNGkJrSr9VwvB8RX+z9NtodWR7R+INFZ2XOKVozokbLALchA1J4vOJq6kfktJrmoG5mSVEn/Eo/XuDc2FgWFq5ETYRwZeE=
    - secure: Unjb8KixWPPki+25UDwaqDaQgLhs76t2B24kQxGzW66b+7NvvdxRUGxHXO6KCjSfdX/v23m5Jg1PSMQevSzpCL1c80JqW8WuAglP8zJHqnZhfjBbSNw/jYXi91rLo3y+TF+lrmqEBio8Biol7II/TZq2U9Qt/vI9F2JPtNNsX0MGqjqsTT71phaAHjwmwjTlDat6VrEyNfyDqntoPHO6lB4z+y6UnUWICNixqobHNtIaMWwwPAtQNMQ8oFT4VGDdviQtuyfi1g6F019gBVp1o0c6vUARHhm9aJfzPMjg2LtrfYeKCqTepAL4sTSXhL2g/NQSbRYXgvu4ex211nEJ7NwsJ0S76zFGFMP7o1bQwp9WKFzjAsThew0xQ2SxMdJKN5uS7bOfDIwzKh2qs8XdzliWGaSzmEkG0vmt4miRvQkyw12k5XXtnqXX5xs9Btqptqt4y1tWczh5F58EaQYND8pUeJ/IlYHRdCdLBN4GFLhNeICr046Xqm27pK0VQd5Mi2kMy1fV8noPFj2EAgGSISMKxxO49hNpU136oSaHrOIbXWVLsni7ecL/PHo1BCwUX7I+aMdAwV/mnIogmt5V/7Jb3w3+6UiDfHfJb5JYUXPCI3Nqr3IUuW35dC4JH4lzBcIh14GgWken/e6idax5MIKjJMDrlpVHweTK/BfnZYA=
    - secure: gp4LcB2OvVNaeh4jbk4i918AOYxAYh8s7wxUSRqvvoMKJWDh4PLmtokLxr1EjsEee/iK0p5m705qkByUCe4XXnOdsyNPuNhCr5Ewu3cPLi7IXK6nhJelpJI5lk1k4fWaGWQCg97k1XWS9FWXnB+EWOIm3GDT6QFaIhB5ral+h/4+1kRtimc7qS0V4jqaL2XPxnEn3E5umxbn7EzyDMncGKJCdjPTV4QihaQtYHDOptPv/WUo7TD05DhVgWxN7p4I3aJtBH11HetAEm82mjIPzLWkcgt47oQCXvdjEEPbNUi5hczVFvdELczZg+0DjGLFXVjUX484+IS830QkS6LgSQ3v26jWWGy9P6uxu3yFuWN0hcu+CNLeV7yYyYcdsspQe717BV3oW5D1B2psX12Yg1Ybx9pYS8+KxtoGgoy+GdEaUsltxxy6F8GZIcfe01Gi57MavIsWzgeMWBt1XW/ArbY+aoeAQUz4EP+GVbMHLWcqdzaNjJCgHgfM6ChmnPDhLEpLeAIdocwF1QxgCVTH6lJ8lvh9V0hfq/R4SWf0iX7GRWP8LBbAqSyzTDSrknUkfZDI3Wi49Ku2OEZYuG/pl2uGFuRK98gCvG+dvIRMHKdM8EuBlQSTKcGj4U54OCtOO/CAfl88H9aBLbaA3HJQLT3B9Z4OzbRQUSyua6/58oQ=
    - secure: n7qfbT8ogpwGkzd2wEwdPUF/z4PDxqFduBUYFlrQVPnWWImNpMT/wlFKPYSLO3aWoto+snQWOp27zAG7Tyt3Kmmqu60x/FJzFU/oZwjYaDMcjI6RMT7+vIxzdGxhtRbKWf/TDfpCe/2k+xaLOQLX3uCAktPh+5zm9v8VDb0XT2ItP+AHes8S+iG+x+kEgC59ou7IsN6oENaV+MAllHNk7MaTkPVzro2p+FMwGoMn7LYg1rdsRdwnRARX8oAl8Joi92sn8HsvROCprC1RKHo7jzLMHu8taM3HaCpjkd+jy63ct5ZXdY2L/LHYmIbh+TyiqWzt99OKNpCnTXb+xPtXJxdyjogXhzENaCkSmhRuef1jPXr3KWzXQ7uCzsvOT3Gj9l4gWeLfZ9yBtNh+IDx6erepSPhUDhMSS8VItmh9ttad47xBZNw964YDYiiLO6lOtKeqy6ApFB11Wo/Z4OR8mPywlF5uz4OqqOjWRwmhr9U422bo7ig0/kv9cMpa/VOSuKh53/dD0saLk8EnAokWdxN7gdKRdvlyXlqvlhNKD/Pm/lVOzao/e6jARPxm1Twe1R5DY2AamveNUf8wZhAUlpCG+FwLKh0Vi1QRosYuEDjOe36vX5Dr0P5KzYfJUf6WMlJIZsvEGjsSoxaoLwfTQpnsBPfAjrBmHY+JP7tCdIU=
    - secure: lsh+97HmPF3cj8MHKpZOli59cXMo2q2CJH7oGzP48LkRYVxNj80Nkd/cvlvTt5IgjfQ0KbUcCWQY4yn3jI3iPLdm3YkjY63t8aiaaJJpNs53A5Ne5HjHHv9kbgmC2pnNA5HNIRAMSNv2dVj73tz/4PgiB/sV1Uc3WsPOTpBpD6XsgBjaYMZImX0vY+p5o4+ZS67eulku7cr5jKawOT+3jDb5JH9YMHLzCjmvpHJ0xFiTh2Lgems8TWiblc7/MdQTCriurF+CiQzqmdlfWOLHM+WQ8eR1Wp4kVLLUNvsjOgJL+VOAOnMcYpv74QSzZAAMxioaDtJsl55RGdqxlMINETYpZ3dKGPT2aKLpGJJRua7Rk7pqU+7PPgxLyLfyzemYR7qh27QsRiVLhi07ktDwHGl2AYzlLsBDzZoAvWscNp6HdyGHzi5URkGEnD1risq1N820B7kZBAt5lWpvuYz1NdAtDHagdVtTRrVzYeVa2MfiQ8SikTCHhBU6Y6AaIutyMbdRFqfdrNH30iRyxKK2X0SwXFD3fI+u35LKLCAfWWa4fkVStbzF7tn4hCZVA+N4Y+DvAIeWSQws+/ZF9E0sKrR4TBZdNTXIVYsG6bBCExRyU2XPgM7ZF5xOWBbRIqF4X+UVbhLCxxdlrX2CjJOEO0CJH19Ow4kuRsxm7M57124=
    - secure: h1ir1pkp8bbYOaPg5z53bcTD+OYpPSLrbr2LymTx+sFdSO4SUffmOjCPrqMCeubiSx++sUz01qFB/wZNyISbZH0/sOsOlci0hqVUhINnJWNug/01BHnrM/is3lCnT45FSMsrOw9Z+TjDa871D/r9XYYvDF85CbXobCAAJ6dTP5DXXXFh3PEQhZ20QTae8COlpJsTs+SPyW6GhsvRairxBV3DQu3QZSUyWqWIVW2oKEnma0NT2fkxqnrUSmzxlqm9503VPpE90tc1viWiHKu2xIAG/Tk3r7o/oIK4hKXdqLGicCosCzCqg0p64VnM3kWBMJjSLRzx5rlvUX8tYghCMuchOtlKaPPSd9+EfhrfrlwgRvuDosA40ZaZr0age5Ab9KH+9iInbIJtrODATQBPTUMKkuZs1SNViUqE0OorvCJooW1mhqukWc9nbFAhELtFgmOsAtcvvpfLBN9ia3kpMCl/ToiHX5GF+jeiPX8l5WuUCtKVu7nMR9900fA3BvqRvaI2rWQkp7drh9EiAjkPp63VgW1mUFroa0AXUJFo+oimZeQEOkdh3rOAnyIxUJ7YXwjt9twEbH6PogYX8PJKq+TRjUgcIWwCmm/FbVcqfikY+JlfQCWUd+H37sIu7fMzpvu+rLYRM+HbLK58slv5YXT3SrMeJkO0Ps0vRl7+Hog=
